以下是整份資料處理與分析的摘要說明：
該資料集包含了某城市的共享單車騎乘記錄，主要目的是分析會員與非會員在騎乘行為上的差異，並提出行銷建議以提升會員轉換率。資料集包含了以下欄位：

此資料來源來自 Coursera [Google Advanced Data Analytics Professional Certificate](https://www.coursera.org/google-certificates/advanced-data-analytics-certificate?utm_campaign=sou--google__med--organicsearch__cam--gwgsite__con--null__ter--null&utm_medium=institutions&utm_source=google#outcomes)課程中的雲端數據，可以再Dataset找到。

---

### **資料處理與分析流程摘要**

#### **1. 資料讀取與初步檢查**
- 匯入多個 CSV 檔案，檢查欄位一致性，確保所有檔案的結構相同。
- 合併所有檔案為一個 DataFrame，並儲存為 `df_combined.csv`。

---

#### **2. 資料清理**
- **2-1 資料合理性檢查**
    - **唯一值檢查**：檢查 `ride_id` 是否有重複值，並移除重複記錄。
    - **資料型態轉換**：
        - 日期欄位轉換為 `datetime` 型態。
        - 類別型欄位統一轉為小寫，並去除多餘空格。
    - **資料一致性檢查**：
        - 使用模糊字符串匹配 (Fuzzy String Matching) 標準化站點名稱與 ID。
        - 根據地理距離與名稱相似度合併重複站點。
    - **不合理值處理**：
        - 移除騎乘時間為負值或超過 12 小時的記錄。

- **2-2 遺漏值處理**
    - 填補 `start_station_name/id` 和 `end_station_name/id` 的遺漏值：
        - 使用經緯度與最近鄰演算法 (BallTree) 推測可能的站點。
        - 根據站點 ID 填補站點名稱。

- **2-3 極端值處理**
    - 使用 Z 分數方法移除 `ride_duration` 的極端值（上限）。

---

#### **3. 特徵工程**
- 提取時間特徵：
    - 月份 (`month`)、星期幾 (`day_of_week`)、小時 (`hour_of_day`)、是否週末 (`is_weekend`)。

---

#### **4. 探索性資料分析 (EDA)**
- **類別型變數分析**：
    - 比較會員 (`member`) 與非會員 (`casual`) 在以下類別變數上的分佈差異：
        - 月份、星期幾、小時、是否週末、腳踏車類型。
    - 使用分組條形圖與交叉表顯示比例差異。

- **數值型變數分析**：
    - 比較會員與非會員在騎乘時間 (`ride_duration`) 上的分佈差異：
        - 使用統計摘要、小提琴圖與疊加直方圖進行視覺化。

---

#### **5. 核心洞察與行銷建議**
- **會員與非會員的行為差異**：
    - 非會員偏好週末與夏季，主要進行休閒騎乘，騎乘時間較長。
    - 會員偏好平日與上下班尖峰時段，主要用於通勤，騎乘時間較短。

- **行銷建議**：
    - **即時成本比較**：在非會員結束騎乘後，推播顯示會員資格的成本節省。
    - **週末結束提醒**：在週日晚上提醒非會員升級會員資格。
    - **價值溝通**：量化會員資格對休閒騎乘的潛在好處，降低決策風險。
---

#### **6. 資料儲存**
- 清理後的資料儲存為 `df_cleaned4.csv`，供後續分析使用。

---

此流程完整涵蓋了資料清理、特徵工程、探索性分析與行銷洞察，為後續決策提供了有力支持。